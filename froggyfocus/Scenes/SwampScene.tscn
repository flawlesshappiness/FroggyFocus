[gd_scene load_steps=26 format=3 uid="uid://dv5luqtp3xbwh"]

[ext_resource type="Script" uid="uid://clriuh67yhb1k" path="res://Scenes/SwampScene.cs" id="1_qfos7"]
[ext_resource type="Environment" uid="uid://ccdedavwq28gu" path="res://Environment/Swamp.tres" id="2_0ky7s"]
[ext_resource type="AudioStream" uid="uid://cxeuh07qvtvxk" path="res://Sounds/Raw/amb_forest_001.ogg" id="2_qfnsp"]
[ext_resource type="PackedScene" uid="uid://bhuic2i3dy7q5" path="res://Prefabs/Player/player.tscn" id="2_qfos7"]
[ext_resource type="PackedScene" uid="uid://dg28gg150qhoy" path="res://Prefabs/Ground/pond_corner_convex_002.tscn" id="8_iu42u"]
[ext_resource type="PackedScene" uid="uid://cmp6kiqfw05i8" path="res://Prefabs/Nature/wood_stump.tscn" id="9_1p1c6"]
[ext_resource type="Script" uid="uid://dt4o28x6fcqym" path="res://FocusEvent/FocusEventArea.cs" id="10_52an4"]
[ext_resource type="Shader" uid="uid://babyxm8yext4w" path="res://Shaders/ToonWater.gdshader" id="10_e4xtd"]
[ext_resource type="PackedScene" uid="uid://b5ugxirtiwk1s" path="res://Prefabs/Ground/pond_corner_convex_001.tscn" id="10_qfnsp"]
[ext_resource type="PackedScene" uid="uid://dbhbo27vieidm" path="res://Prefabs/Nature/lilypad.tscn" id="12_5fuuy"]
[ext_resource type="PackedScene" uid="uid://bkrqmphtqlmnh" path="res://Prefabs/Shops/upgrade_shop.tscn" id="12_20fcr"]
[ext_resource type="Resource" uid="uid://4t23pgixusyd" path="res://FocusEvent/Resources/Swamp Land.tres" id="12_cmxon"]
[ext_resource type="PackedScene" uid="uid://byqfa6wymvsj0" path="res://Prefabs/FocusEvent/FocusEvent.tscn" id="12_yvk0y"]
[ext_resource type="Resource" uid="uid://c8rw7h48k3o4k" path="res://FocusEvent/Resources/Swamp Water.tres" id="14_52an4"]
[ext_resource type="PackedScene" uid="uid://cg1klwhnjrbjm" path="res://Assets/Quaternius/Nature/Lilypad.fbx" id="15_bmghv"]
[ext_resource type="Script" uid="uid://byon4u23canqr" path="res://Sounds/SoundPath.cs" id="17_52an4"]
[ext_resource type="PackedScene" uid="uid://cc1aqwgypdcw6" path="res://Prefabs/Misc/respawn_area.tscn" id="17_achss"]
[ext_resource type="AudioStream" uid="uid://6t3iec200i6m" path="res://Sounds/Raw/amb_lake_001.wav" id="18_52an4"]
[ext_resource type="AudioStream" uid="uid://cxfhyl6gsah47" path="res://Sounds/Raw/amb_water_001.wav" id="19_bmghv"]

[sub_resource type="PlaneMesh" id="PlaneMesh_20fcr"]
size = Vector2(1000, 1000)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2hsqb"]
render_priority = 0
shader = ExtResource("10_e4xtd")
shader_parameter/WATER_COL = Color(0.015, 0.2525, 0.3, 1)
shader_parameter/WATER2_COL = Color(0.012, 0.1982, 0.24, 1)
shader_parameter/FOAM_COL = Color(0.035, 0.2975, 0.35, 1)
shader_parameter/distortion_speed = 0.4
shader_parameter/tile = Vector2(500, 500)
shader_parameter/wave_speed = 2.0
shader_parameter/wave_amplitude = 0.0
shader_parameter/wave_frequency = 1.5
shader_parameter/time_offset = 0.0
shader_parameter/water_size = Vector2(1000, 1000)
shader_parameter/water_transparency = 1.0
shader_parameter/water_depth_factor = 0.5
shader_parameter/foam_width = 2.0
shader_parameter/foam_edge_softness = 0.05
shader_parameter/foam_smoothness = 0.03
shader_parameter/foam_distortion_speed = 0.5
shader_parameter/foam_distortion_amount = 0.1

[sub_resource type="BoxShape3D" id="BoxShape3D_achss"]
size = Vector3(1000, 1, 1000)

[sub_resource type="NavigationMesh" id="NavigationMesh_20fcr"]
vertices = PackedVector3Array(-4.75, -0.5, -11.9182, -4.25, -0.5, -10.4182, -3, -0.5, -10.9182, -3.25, -0.5, -12.1682, 6.5, -0.5, -7.41817, 8, -0.5, -7.41817, 8.25, -0.5, -7.91817, 7.5, -0.5, -9.16817, 6.25, -0.5, -8.41817, 4.5, 0.5, -4.41817, 3.25, 0.5, -6.91817, 2.5, 0.5, -7.41817, -0.5, 0.25, -7.66817, 1.25, 0.25, 7.58183, 2.75, 0.5, 3.08183, 2.75, 0.5, 1.58183, -5, 0.5, 4.08183, -4, 0.5, 5.08183, 4.5, 0.5, 6.58183, 3.75, 0.5, 4.08183, -7.5, 0.5, -1.91817, -7.25, 0.25, 3.08183, 5.25, 0.5, 4.08183, 6.25, 0.5, 5.08183, 3.5, 0.5, 0.581833, 6.25, 0.5, 3.33183, 7.5, 0.5, 1.83183, 6.25, 0.5, 1.33183, 5.5, 0.5, 0.581833, 7.25, 0.25, -2.91817, -3.5, 0.25, -7.16817, -6, 0.5, -5.41817, -3, 0.5, 7.33183, 13.25, -0.5, -5.91817, 12.5, -0.5, -6.16817, 11.75, -0.5, -5.41817, 12, -0.5, -4.41817, 13.5, -0.5, -4.41817, 5, 1.5, 1.58183, 4, 1.5, 1.58183, 3.75, 1.5, 2.08183, 4.25, 1.5, 3.08183, 5.25, 1.5, 2.83183, 9.75, -0.5, 7.33183, 10.25, -0.5, 8.83183, 11.5, -0.5, 8.33183, 11.25, -0.5, 7.08183, -4.5, -0.5, 12.8318, -3.25, -0.5, 12.8318, -3, -0.5, 12.3318, -3.5, -0.5, 11.0818, -4.75, -0.5, 11.3318)
polygons = [PackedInt32Array(2, 1, 3), PackedInt32Array(3, 1, 0), PackedInt32Array(6, 5, 7), PackedInt32Array(7, 5, 8), PackedInt32Array(8, 5, 4), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 9, 12), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 17), PackedInt32Array(15, 17, 16), PackedInt32Array(19, 18, 14), PackedInt32Array(14, 18, 13), PackedInt32Array(16, 21, 20), PackedInt32Array(22, 23, 19), PackedInt32Array(19, 23, 18), PackedInt32Array(9, 24, 15), PackedInt32Array(23, 22, 25), PackedInt32Array(26, 23, 25), PackedInt32Array(27, 26, 25), PackedInt32Array(27, 28, 26), PackedInt32Array(26, 28, 29), PackedInt32Array(31, 30, 12), PackedInt32Array(28, 24, 29), PackedInt32Array(29, 24, 9), PackedInt32Array(31, 12, 20), PackedInt32Array(20, 12, 9), PackedInt32Array(20, 9, 15), PackedInt32Array(20, 15, 16), PackedInt32Array(17, 13, 32), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 36), PackedInt32Array(36, 33, 37), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 41), PackedInt32Array(41, 38, 42), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 43), PackedInt32Array(48, 47, 49), PackedInt32Array(49, 47, 50), PackedInt32Array(50, 47, 51)]
geometry_parsed_geometry_type = 1

[sub_resource type="Curve3D" id="Curve3D_bmghv"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 5, 0, 0, -5, -12.4084, 0, -0.9991, -5, 0, 0, 5, 0, 0, 0.38504, 0, -12.3052, 0, 0, -5, 0, 0, 5, 12.3906, 0, 1.17018, 5, 0, 0, -5, 0, 0, 0.0857086, 0, 12.7923),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="SphereShape3D" id="SphereShape3D_qfnsp"]
radius = 8.33453

[node name="SwampScene" type="Node3D" node_paths=PackedStringArray("FocusEvents")]
script = ExtResource("1_qfos7")
FocusEvents = [NodePath("World/FocusEvent_Land"), NodePath("World/FocusEvent_Lilypad")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_0ky7s")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.173648, 0.984808, 0, -0.984808, 0.173648, 0, 5.72245, 3.27611)
light_color = Color(1, 1, 0.7, 1)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("2_qfos7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.117083, -4.76837e-07, 2.93445)

[node name="World" type="Node3D" parent="."]

[node name="Water" type="MeshInstance3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh = SubResource("PlaneMesh_20fcr")
skeleton = NodePath("")
surface_material_override/0 = SubResource("ShaderMaterial_2hsqb")

[node name="StaticBody3D" type="StaticBody3D" parent="World/Water"]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Water/StaticBody3D"]
shape = SubResource("BoxShape3D_achss")

[node name="Island_SmallRound" type="NavigationRegion3D" parent="World"]
navigation_mesh = SubResource("NavigationMesh_20fcr")

[node name="Floor" type="Node3D" parent="World/Island_SmallRound"]

[node name="pond_corner_convex_001" parent="World/Island_SmallRound/Floor" instance=ExtResource("10_qfnsp")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, -8, 0, -8)

[node name="pond_corner_convex_002" parent="World/Island_SmallRound/Floor" instance=ExtResource("8_iu42u")]
transform = Transform3D(-1.74846e-07, 0, -4, 0, 4, 0, 4, 0, -1.74846e-07, 8, 0, -8)

[node name="pond_corner_convex_003" parent="World/Island_SmallRound/Floor" instance=ExtResource("10_qfnsp")]
transform = Transform3D(-4, 0, -3.49691e-07, 0, 4, 0, 3.49691e-07, 0, -4, 8, 0, 8)

[node name="pond_corner_convex_004" parent="World/Island_SmallRound/Floor" instance=ExtResource("8_iu42u")]
transform = Transform3D(-1.74846e-07, 0, 4, 0, 4, 0, -4, 0, -1.74846e-07, -8, 0, 8)

[node name="Details" type="Node3D" parent="World/Island_SmallRound"]

[node name="TreeStump" parent="World/Island_SmallRound/Details" instance=ExtResource("9_1p1c6")]
transform = Transform3D(2.20236, 0, -2.03706, 0, 3, 0, 2.03706, 0, 2.20236, 4.57761, 0.00649762, 2.24976)

[node name="Lilypards" type="Node3D" parent="World/Island_SmallRound"]

[node name="lilypad6" parent="World/Island_SmallRound/Lilypards" instance=ExtResource("12_5fuuy")]
transform = Transform3D(-1.87992, 0, -0.682564, 0, 2, 0, 0.682564, 0, -1.87992, -3.88897, -0.974196, -11.3794)

[node name="lilypad7" parent="World/Island_SmallRound/Lilypards" instance=ExtResource("12_5fuuy")]
transform = Transform3D(-0.582673, 0, 1.91324, 0, 2, 0, -1.91324, 0, -0.582673, 7.264, -0.974196, -8.18753)

[node name="lilypad8" parent="World/Island_SmallRound/Lilypards" instance=ExtResource("12_5fuuy")]
transform = Transform3D(0.507381, 0, 1.93457, 0, 2, 0, -1.93457, 0, 0.507381, 12.7015, -0.974196, -5.15111)

[node name="lilypad9" parent="World/Island_SmallRound/Lilypards" instance=ExtResource("12_5fuuy")]
transform = Transform3D(1.29038, 0, 1.52804, 0, 2, 0, -1.52804, 0, 1.29038, 10.6346, -0.974196, 7.91896)

[node name="lilypad10" parent="World/Island_SmallRound/Lilypards" instance=ExtResource("12_5fuuy")]
transform = Transform3D(1.95269, 0, -0.432436, 0, 2, 0, 0.432436, 0, 1.95269, -3.91159, -0.974196, 11.9929)

[node name="lilypad2" parent="World/Island_SmallRound/Lilypards" instance=ExtResource("12_5fuuy")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, -12.4893, -0.974196, -2.23894)

[node name="PathWaterSFX" type="Path3D" parent="World/Island_SmallRound"]
curve = SubResource("Curve3D_bmghv")

[node name="UpgradeShop" parent="World/Island_SmallRound" instance=ExtResource("12_20fcr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6.53762)

[node name="FocusEventArea" type="Area3D" parent="World/Island_SmallRound"]
collision_layer = 0
collision_mask = 2
script = ExtResource("10_52an4")
Id = "land"
metadata/_custom_type_script = "uid://dt4o28x6fcqym"

[node name="CollisionShape3D" type="CollisionShape3D" parent="World/Island_SmallRound/FocusEventArea"]
shape = SubResource("SphereShape3D_qfnsp")
debug_color = Color(0.7, 0, 0, 0.419608)

[node name="RespawnArea" parent="World" instance=ExtResource("17_achss")]
collision_layer = 0

[node name="FocusEvent_Land" parent="World" instance=ExtResource("12_yvk0y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 320)
visible = false
Id = "land"
Info = ExtResource("12_cmxon")
Size = Vector2(5, 3)

[node name="Floor" type="Node3D" parent="World/FocusEvent_Land"]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 0, 0, 0)

[node name="pond_corner_convex_001" parent="World/FocusEvent_Land/Floor" instance=ExtResource("10_qfnsp")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, -8, 0, -8)

[node name="pond_corner_convex_002" parent="World/FocusEvent_Land/Floor" instance=ExtResource("10_qfnsp")]
transform = Transform3D(-1.74846e-07, 0, -4, 0, 4, 0, 4, 0, -1.74846e-07, 8, 0, -8)

[node name="pond_corner_convex_003" parent="World/FocusEvent_Land/Floor" instance=ExtResource("10_qfnsp")]
transform = Transform3D(-4, 0, 3.49691e-07, 0, 4, 0, -3.49691e-07, 0, -4, 8, 0, 8)

[node name="pond_corner_convex_004" parent="World/FocusEvent_Land/Floor" instance=ExtResource("10_qfnsp")]
transform = Transform3D(5.24537e-07, 0, 4, 0, 4, 0, -4, 0, 5.24537e-07, -8, 0, 8)

[node name="FocusEvent_Lilypad" parent="World" node_paths=PackedStringArray("SkillChecks") instance=ExtResource("12_yvk0y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.894976, 320)
Id = "lilypad"
Info = ExtResource("14_52an4")
Size = Vector2(5, 3)
SkillChecks = [NodePath("../FocusEvent_Land/SkillChecks/Bombs"), NodePath("../FocusEvent_Land/SkillChecks/Dash")]

[node name="Floor" type="Node3D" parent="World/FocusEvent_Lilypad"]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 0, 0, 0)

[node name="Lilypad" parent="World/FocusEvent_Lilypad/Floor" instance=ExtResource("15_bmghv")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 4.89301)

[node name="Sounds" type="Node3D" parent="."]

[node name="AmbLake" type="AudioStreamPlayer3D" parent="Sounds"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.82729, 1.14535, -10.3414)
stream = ExtResource("18_52an4")
attenuation_model = 3
autoplay = true
max_distance = 28.0
panning_strength = 0.5
bus = &"SFX"

[node name="AmbWater" type="AudioStreamPlayer3D" parent="Sounds" node_paths=PackedStringArray("Paths")]
stream = ExtResource("19_bmghv")
volume_db = -5.0
autoplay = true
panning_strength = 0.75
bus = &"SFX"
script = ExtResource("17_52an4")
Paths = [NodePath("../../World/Island_SmallRound/PathWaterSFX")]

[node name="AmbWind" type="AudioStreamPlayer" parent="Sounds"]
stream = ExtResource("2_qfnsp")
autoplay = true
bus = &"SFX"
