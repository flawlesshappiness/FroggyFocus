[gd_scene load_steps=21 format=3 uid="uid://cylpusjkvu6mk"]

[ext_resource type="Script" uid="uid://hoaylk4vvjmx" path="res://Prefabs/Eldritch/EldritchFlower.cs" id="1_2up6m"]
[ext_resource type="PackedScene" uid="uid://cfwlg2jimkbki" path="res://Assets/FlawLizArt/Eldritch/flower.fbx" id="1_u16jr"]
[ext_resource type="AudioStream" uid="uid://41sbt3n6iwyl" path="res://Sounds/Raw/sfx_flower_inhale_001.wav" id="4_wk54q"]
[ext_resource type="AudioStream" uid="uid://d3b0bslq1003v" path="res://Sounds/Raw/sfx_flower_inhale_002.wav" id="5_cif2g"]
[ext_resource type="AudioStream" uid="uid://cbptpagqlhk4c" path="res://Sounds/Raw/sfx_flower_exhale_001.wav" id="6_pu4wm"]
[ext_resource type="AudioStream" uid="uid://cwg3re4amkomx" path="res://Sounds/Raw/sfx_flower_exhale_002.wav" id="7_bqfjl"]
[ext_resource type="AudioStream" uid="uid://rlkcqllb7u1k" path="res://Sounds/Raw/sfx_flower_exhale_003.wav" id="8_myu4q"]
[ext_resource type="AudioStream" uid="uid://ctt7tm63vwuy3" path="res://Sounds/Raw/sfx_flower_cough_001.wav" id="8_pu4wm"]
[ext_resource type="AudioStream" uid="uid://dlur63e7uvby6" path="res://Sounds/Raw/sfx_flower_cough_002.wav" id="9_bqfjl"]
[ext_resource type="AudioStream" uid="uid://4kumc858fslr" path="res://Sounds/Raw/sfx_flower_cough_003.wav" id="10_myu4q"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_hjble"]
height = 3.23022
radius = 0.620117

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_y3yyd"]
streams_count = 2
stream_0/stream = ExtResource("4_wk54q")
stream_1/stream = ExtResource("5_cif2g")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_y83xc"]
streams_count = 3
stream_0/stream = ExtResource("6_pu4wm")
stream_1/stream = ExtResource("7_bqfjl")
stream_2/stream = ExtResource("8_myu4q")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_o3jep"]
playback_mode = 2
random_pitch = 1.05
streams_count = 3
stream_0/stream = ExtResource("8_pu4wm")
stream_1/stream = ExtResource("9_bqfjl")
stream_2/stream = ExtResource("10_myu4q")

[sub_resource type="Animation" id="Animation_cif2g"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SfxInhale:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SfxExhale:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("flower:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("flower:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("SfxCough:playing")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_pu4wm"]
resource_name = "breathe"
length = 6.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SfxInhale:playing")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.166667),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SfxExhale:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(3.43333),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "animation"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("flower/AnimationPlayer")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": PackedStringArray("Armature|idle_open"),
"times": PackedFloat32Array(0.1)
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("flower:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("flower:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_cihhf"]
resource_name = "hide"
length = 2.0
step = 0.1
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flower/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Armature|open_to_closed"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("flower:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(2, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -2, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("flower:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SfxExhale:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_wk54q"]
resource_name = "inactive"
length = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flower:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_bqfjl"]
resource_name = "coughing"
length = 2.0
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("flower/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Armature|coughing"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("SfxCough:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.0333333, 0.766667, 1.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, true, true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_bqfjl"]
_data = {
&"RESET": SubResource("Animation_cif2g"),
&"breathe": SubResource("Animation_pu4wm"),
&"coughing": SubResource("Animation_bqfjl"),
&"hide": SubResource("Animation_cihhf"),
&"inactive": SubResource("Animation_wk54q")
}

[node name="EldritchFlower" type="Area3D" node_paths=PackedStringArray("Collider", "Animation")]
collision_layer = 4
collision_mask = 0
script = ExtResource("1_2up6m")
Collider = NodePath("CollisionShape3D")
Animation = NodePath("AnimationPlayer")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.615112, 0)
shape = SubResource("CylinderShape3D_hjble")

[node name="flower" parent="." instance=ExtResource("1_u16jr")]

[node name="Skeleton3D" parent="flower/Armature" index="0"]
bones/1/rotation = Quaternion(0.150156, 0.00729078, -0.155297, 0.976362)
bones/2/position = Vector3(-2.58714e-10, 0.0017185, -5.54336e-10)
bones/2/rotation = Quaternion(0.125181, -0.000249567, -0.113719, 0.985595)
bones/2/scale = Vector3(1, 1, 1)
bones/3/position = Vector3(-6.21155e-10, 0.0016553, -4.59285e-10)
bones/3/rotation = Quaternion(0.19563, -0.000832554, -0.196085, 0.960874)
bones/3/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(-0.147771, 0.0550161, -0.157569, 0.974838)
bones/5/scale = Vector3(1, 1, 1)
bones/6/position = Vector3(1.08507e-11, 0.0017185, 5.29636e-10)
bones/6/rotation = Quaternion(-0.0845441, 0.113978, -0.146474, 0.978983)
bones/6/scale = Vector3(1, 1, 1)
bones/7/position = Vector3(-8.11236e-10, 0.0016553, -6.21769e-10)
bones/7/rotation = Quaternion(-0.017284, 0.368719, -0.276083, 0.887427)
bones/7/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.150156, -0.00729078, 0.155297, 0.976362)
bones/10/position = Vector3(2.58714e-10, 0.0017185, -5.54336e-10)
bones/10/rotation = Quaternion(0.125181, 0.000249567, 0.113719, 0.985595)
bones/10/scale = Vector3(1, 1, 1)
bones/11/position = Vector3(6.21155e-10, 0.0016553, -4.59285e-10)
bones/11/rotation = Quaternion(0.19563, 0.000832554, 0.196085, 0.960874)
bones/11/scale = Vector3(1, 1, 1)
bones/13/rotation = Quaternion(-0.147771, -0.0550161, 0.157569, 0.974838)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(-1.08507e-11, 0.0017185, 5.29636e-10)
bones/14/rotation = Quaternion(-0.0845441, -0.113978, 0.146474, 0.978983)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(8.11236e-10, 0.0016553, -6.21769e-10)
bones/15/rotation = Quaternion(-0.017284, -0.368719, 0.276083, 0.887427)
bones/15/scale = Vector3(1, 1, 1)

[node name="AnimationPlayer" parent="flower" index="1"]
playback_default_blend_time = 0.1

[node name="SfxInhale" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_y3yyd")
volume_db = -5.0
max_distance = 16.0
bus = &"SFX"
attenuation_filter_db = 0.0

[node name="SfxExhale" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_y83xc")
volume_db = -5.0
max_distance = 16.0
bus = &"SFX"
attenuation_filter_db = 0.0

[node name="SfxCough" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_o3jep")
volume_db = -5.0
max_distance = 16.0
max_polyphony = 5
bus = &"SFX"
attenuation_filter_db = 0.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_bqfjl")
}

[editable path="flower"]
