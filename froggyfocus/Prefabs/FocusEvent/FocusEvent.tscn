[gd_scene load_steps=51 format=3 uid="uid://byqfa6wymvsj0"]

[ext_resource type="Script" uid="uid://cn1ojd3tt0pjm" path="res://FocusEvent/FocusEvent.cs" id="1_p778c"]
[ext_resource type="Resource" uid="uid://b88llwje1ai5f" path="res://FocusEvent/Resources/Debug.tres" id="2_2i5pb"]
[ext_resource type="PackedScene" uid="uid://cta4lwmtk36u" path="res://Prefabs/FocusEvent/FocusCursor.tscn" id="2_tceec"]
[ext_resource type="PackedScene" uid="uid://c7v778qpl5v6w" path="res://Prefabs/FocusEvent/FocusTarget.tscn" id="3_2i5pb"]
[ext_resource type="PackedScene" uid="uid://bc86o50qja4fn" path="res://Prefabs/FocusSkillChecks/bombs.tscn" id="6_dbk1m"]
[ext_resource type="PackedScene" uid="uid://bjfec2tbico8w" path="res://Prefabs/FocusSkillChecks/dash.tscn" id="7_xhohg"]
[ext_resource type="PackedScene" uid="uid://d1fokxnejbet4" path="res://Prefabs/Characters/frog.tscn" id="7_yos1q"]
[ext_resource type="PackedScene" uid="uid://bk1jnky7aenmk" path="res://Prefabs/FocusSkillChecks/dive.tscn" id="8_201f2"]
[ext_resource type="PackedScene" uid="uid://bs35n1mp074rd" path="res://Prefabs/FocusSkillChecks/constrict.tscn" id="9_ixd7q"]
[ext_resource type="PackedScene" uid="uid://duhs0m2x7kjpk" path="res://Prefabs/FocusSkillChecks/spike.tscn" id="10_4atv5"]
[ext_resource type="PackedScene" uid="uid://bgam63hrep021" path="res://Prefabs/Effects/rain_effect.tscn" id="10_5w8tb"]
[ext_resource type="PackedScene" uid="uid://dpxrc0e38jyx1" path="res://Prefabs/FocusSkillChecks/crystal.tscn" id="10_85vk6"]
[ext_resource type="PackedScene" uid="uid://cava4qyxuniih" path="res://Prefabs/FocusSkillChecks/moss.tscn" id="11_85vk6"]
[ext_resource type="PackedScene" uid="uid://c2g5o2xm6xb3" path="res://Prefabs/Effects/wind_effect.tscn" id="11_h8skc"]
[ext_resource type="PackedScene" uid="uid://drlpioouldb1f" path="res://Prefabs/FocusSkillChecks/sand.tscn" id="12_1pin3"]
[ext_resource type="PackedScene" uid="uid://b8orm5vjk31oe" path="res://Prefabs/FocusSkillChecks/seaweed.tscn" id="13_f8plv"]
[ext_resource type="PackedScene" uid="uid://eaxvbi7r2use" path="res://Prefabs/FocusSkillChecks/garbage.tscn" id="14_nmos7"]
[ext_resource type="PackedScene" uid="uid://233jeu3oadly" path="res://Prefabs/FocusSkillChecks/oil.tscn" id="15_3eqej"]
[ext_resource type="PackedScene" uid="uid://ccn5g4jw8hlci" path="res://Prefabs/FocusSkillChecks/glitch_teleport.tscn" id="16_2rtio"]
[ext_resource type="PackedScene" uid="uid://6svjunh12rln" path="res://Prefabs/FocusSkillChecks/glitch_bombs.tscn" id="17_n8lvd"]
[ext_resource type="PackedScene" uid="uid://baff0vi363x4j" path="res://Prefabs/FocusSkillChecks/glitch_dot.tscn" id="18_kdpbt"]
[ext_resource type="PackedScene" uid="uid://dch3byblos3f1" path="res://Prefabs/FocusSkillChecks/eldritch_wind.tscn" id="19_otgg6"]
[ext_resource type="PackedScene" uid="uid://t1nqv2ixw81n" path="res://Prefabs/FocusSkillChecks/eldritch_slap.tscn" id="20_wi65r"]
[ext_resource type="PackedScene" uid="uid://cprj7mfy6pl7q" path="res://Prefabs/FocusSkillChecks/eldritch_teleport.tscn" id="21_ef5u0"]
[ext_resource type="PackedScene" uid="uid://whmyqj1a1qg" path="res://Prefabs/FocusSkillChecks/crystal_oil.tscn" id="21_f3kj3"]
[ext_resource type="PackedScene" uid="uid://quha7lvsnhk5" path="res://Prefabs/FocusSkillChecks/crystal_moss.tscn" id="22_3otxw"]
[ext_resource type="PackedScene" uid="uid://bbkdv22tcatiw" path="res://Prefabs/FocusSkillChecks/buzz.tscn" id="24_3q4gb"]
[ext_resource type="PackedScene" uid="uid://cwlam1attaotg" path="res://Prefabs/FocusSkillChecks/stomp.tscn" id="25_8i2bm"]
[ext_resource type="PackedScene" uid="uid://rum51macbtyh" path="res://Prefabs/FocusSkillChecks/dig.tscn" id="26_rqtj8"]
[ext_resource type="Shader" uid="uid://duxoohuy37uxu" path="res://Shaders/Toon.gdshader" id="30_p01lx"]
[ext_resource type="AudioStream" uid="uid://vna3rejmp4h5" path="res://Sounds/Raw/sfx_focus_suspense_001.wav" id="30_q0yhd"]
[ext_resource type="AudioStream" uid="uid://dviibhxxdeppr" path="res://Sounds/Raw/sfx_focus_suspense_002.wav" id="31_8uab8"]
[ext_resource type="AudioStream" uid="uid://cxgx3x5mieqwe" path="res://Sounds/Raw/sfx_focus_suspense_003.wav" id="31_vaemt"]
[ext_resource type="AudioStream" uid="uid://ckrqbl4voqiay" path="res://Sounds/Raw/sfx_focus_suspense_004.wav" id="33_p01lx"]

[sub_resource type="Curve" id="Curve_4nfkp"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.3, 0), 0.0, 0.0, 0, 0, Vector2(0.4, 1), 0.0, 0.0, 0, 0, Vector2(0.6, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="CurveTexture" id="CurveTexture_rfid0"]
curve = SubResource("Curve_4nfkp")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_u0w0c"]
spread = 35.0
flatness = 1.0
initial_velocity_min = 2.0
initial_velocity_max = 2.0
gravity = Vector3(0, 0, 0)
scale_min = 0.05
scale_max = 0.15
scale_curve = SubResource("CurveTexture_rfid0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rfid0"]
render_priority = 0
shader = ExtResource("30_p01lx")
shader_parameter/albedo = Color(0, 0.7, 1, 1)
shader_parameter/clamp_diffuse_to_max = false
shader_parameter/cuts = 3
shader_parameter/wrap = 0.0
shader_parameter/steepness = 1.0
shader_parameter/use_attenuation = true
shader_parameter/use_specular = false
shader_parameter/specular_strength = 1.0
shader_parameter/specular_shininess = 16.0
shader_parameter/use_rim = false
shader_parameter/rim_width = 8.0
shader_parameter/rim_color = Color(1, 1, 1, 1)
shader_parameter/use_ramp = false
shader_parameter/use_borders = false
shader_parameter/border_width = 0.01

[sub_resource type="SphereMesh" id="SphereMesh_7uk70"]
material = SubResource("ShaderMaterial_rfid0")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1pin3"]
transparency = 1
albedo_color = Color(1, 1, 1, 0.180392)

[sub_resource type="CylinderMesh" id="CylinderMesh_4atv5"]
material = SubResource("StandardMaterial3D_1pin3")
top_radius = 3.0
bottom_radius = 3.0

[sub_resource type="NavigationMesh" id="NavigationMesh_ef5u0"]
vertices = PackedVector3Array(-2.5, 0.5, -1.5, -2.5, 0.5, 1.5, 2.5, 0.5, 1.5, 2.5, 0.5, -1.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_parsed_geometry_type = 1

[sub_resource type="BoxShape3D" id="BoxShape3D_4atv5"]
size = Vector3(6, 1, 4)

[sub_resource type="Animation" id="Animation_rqtj8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera3D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 3.5, 0)]
}

[sub_resource type="Animation" id="Animation_8i2bm"]
resource_name = "slow_zoom"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera3D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 3.5, 0), Vector3(0, 3.25, 0)]
}

[sub_resource type="Animation" id="Animation_q0yhd"]
resource_name = "zoom_out"
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera3D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 3.25, 0), Vector3(0, 3.5, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q0yhd"]
_data = {
&"RESET": SubResource("Animation_rqtj8"),
&"zoom_in": SubResource("Animation_8i2bm"),
&"zoom_out": SubResource("Animation_q0yhd")
}

[sub_resource type="Animation" id="Animation_p01lx"]
resource_name = "scared"
length = 0.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ParticleSystems/PsFrogSweating:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_4nfkp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ParticleSystems/PsFrogSweating:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_u0w0c"]
_data = {
&"RESET": SubResource("Animation_4nfkp"),
&"scared": SubResource("Animation_p01lx")
}

[node name="FocusEvent" type="Node3D" node_paths=PackedStringArray("Camera", "Cursor", "Target", "Frog", "SkillCheckParent", "AnimationPlayer_Camera", "AnimationPlayer_Frog", "SfxSuspenseNormal_Start", "SfxSuspenseFast_Start", "SfxSuspenseNormal_Success", "SfxSuspenseNormal_Fail")]
script = ExtResource("1_p778c")
Info = ExtResource("2_2i5pb")
Camera = NodePath("Camera3D")
Cursor = NodePath("FocusCursor")
Target = NodePath("FocusTarget")
Frog = NodePath("Frog")
SkillCheckParent = NodePath("SkillChecks")
AnimationPlayer_Camera = NodePath("AnimationPlayer_Camera")
AnimationPlayer_Frog = NodePath("AnimationPlayer_Frog")
SfxSuspenseNormal_Start = NodePath("SfxSuspenseNormal_Start")
SfxSuspenseFast_Start = NodePath("SfxSuspenseFast_Start")
SfxSuspenseNormal_Success = NodePath("SfxSuspenseNormal_Success")
SfxSuspenseNormal_Fail = NodePath("SfxSuspenseNormal_Fail")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 3.5, 0)

[node name="FocusCursor" parent="." instance=ExtResource("2_tceec")]

[node name="FocusTarget" parent="." instance=ExtResource("3_2i5pb")]

[node name="SkillChecks" type="Node3D" parent="."]

[node name="Bombs" parent="SkillChecks" instance=ExtResource("6_dbk1m")]

[node name="Dash" parent="SkillChecks" instance=ExtResource("7_xhohg")]

[node name="Dive" parent="SkillChecks" instance=ExtResource("8_201f2")]

[node name="Constrict" parent="SkillChecks" instance=ExtResource("9_ixd7q")]

[node name="Spike" parent="SkillChecks" instance=ExtResource("10_4atv5")]

[node name="Crystal" parent="SkillChecks" instance=ExtResource("10_85vk6")]

[node name="Moss" parent="SkillChecks" instance=ExtResource("11_85vk6")]

[node name="Sand" parent="SkillChecks" instance=ExtResource("12_1pin3")]

[node name="Seaweed" parent="SkillChecks" instance=ExtResource("13_f8plv")]

[node name="Garbage" parent="SkillChecks" instance=ExtResource("14_nmos7")]

[node name="Oil" parent="SkillChecks" instance=ExtResource("15_3eqej")]

[node name="GlitchTeleport" parent="SkillChecks" instance=ExtResource("16_2rtio")]

[node name="GlitchBombs" parent="SkillChecks" instance=ExtResource("17_n8lvd")]

[node name="GlitchDot" parent="SkillChecks" instance=ExtResource("18_kdpbt")]

[node name="EldritchWind" parent="SkillChecks" instance=ExtResource("19_otgg6")]

[node name="EldritchSlap" parent="SkillChecks" instance=ExtResource("20_wi65r")]

[node name="EldritchTeleport" parent="SkillChecks" instance=ExtResource("21_ef5u0")]

[node name="CrystalClones" parent="SkillChecks" instance=ExtResource("21_f3kj3")]

[node name="CrystalMoss" parent="SkillChecks" instance=ExtResource("22_3otxw")]

[node name="Buzz" parent="SkillChecks" instance=ExtResource("24_3q4gb")]

[node name="Stomp" parent="SkillChecks" instance=ExtResource("25_8i2bm")]

[node name="Dig" parent="SkillChecks" instance=ExtResource("26_rqtj8")]

[node name="Frog" parent="." instance=ExtResource("7_yos1q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.5)

[node name="ParticleSystems" type="Node3D" parent="."]

[node name="RainEffect" parent="ParticleSystems" instance=ExtResource("10_5w8tb")]

[node name="WindEffect" parent="ParticleSystems" instance=ExtResource("11_h8skc")]

[node name="PsFrogSweating" type="GPUParticles3D" parent="ParticleSystems"]
transform = Transform3D(-4.3262e-08, 6.25188e-09, 1, 0.143026, 0.989719, 0, -0.989719, 0.143026, -4.37114e-08, 8.88178e-16, 0.649858, 1.8471)
emitting = false
amount = 5
lifetime = 0.5
one_shot = true
explosiveness = 0.5
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_u0w0c")
draw_pass_1 = SubResource("SphereMesh_7uk70")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
visible = false
mesh = SubResource("CylinderMesh_4atv5")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ef5u0")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
shape = SubResource("BoxShape3D_4atv5")

[node name="AnimationPlayer_Camera" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_q0yhd")
}
playback_default_blend_time = 0.1

[node name="AnimationPlayer_Frog" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_u0w0c")
}

[node name="SfxSuspenseNormal_Start" type="AudioStreamPlayer" parent="."]
stream = ExtResource("30_q0yhd")
bus = &"SFX"

[node name="SfxSuspenseFast_Start" type="AudioStreamPlayer" parent="."]
stream = ExtResource("31_vaemt")
bus = &"SFX"

[node name="SfxSuspenseNormal_Success" type="AudioStreamPlayer" parent="."]
stream = ExtResource("31_8uab8")
bus = &"SFX"

[node name="SfxSuspenseNormal_Fail" type="AudioStreamPlayer" parent="."]
stream = ExtResource("33_p01lx")
bus = &"SFX"
