[gd_scene load_steps=12 format=3 uid="uid://coc1ipx2s1ljj"]

[ext_resource type="AudioStream" uid="uid://dwtm2b1y7gxh6" path="res://Sounds/Raw/sfx_impact_water_low_001.wav" id="1_3rgun"]
[ext_resource type="Script" uid="uid://btasbeewcn44d" path="res://Prefabs/Nature/FloatBounce.cs" id="1_k74hn"]
[ext_resource type="PackedScene" uid="uid://scqlqqxli7n" path="res://Prefabs/Effects/ps_water_ripple.tscn" id="2_jxjvk"]
[ext_resource type="AudioStream" uid="uid://iupdbu38bkq0" path="res://Sounds/Raw/sfx_impact_water_low_002.wav" id="2_k74hn"]
[ext_resource type="AudioStream" uid="uid://mvr5nhm1lqiv" path="res://Sounds/Raw/sfx_impact_water_low_003.wav" id="3_jxjvk"]
[ext_resource type="AudioStream" uid="uid://bu3w1t785m70f" path="res://Sounds/Raw/sfx_impact_water_low_004.wav" id="4_fas88"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_o81hj"]
height = 0.1
radius = 0.505371

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_sytv3"]
random_pitch = 1.1
streams_count = 4
stream_0/stream = ExtResource("1_3rgun")
stream_1/stream = ExtResource("2_k74hn")
stream_2/stream = ExtResource("3_jxjvk")
stream_3/stream = ExtResource("4_fas88")

[sub_resource type="Animation" id="Animation_ugoas"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../SfxWater:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_o81hj"]
resource_name = "bounce"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 0.733333, 1.26667, 2),
"transitions": PackedFloat32Array(0.5, -2, -2, -2, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, -0.07, 0), Vector3(0, 0, 0), Vector3(0, -0.03, 0), Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../SfxWater:playing")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.0159623),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_h611w"]
_data = {
&"RESET": SubResource("Animation_ugoas"),
&"bounce": SubResource("Animation_o81hj")
}

[node name="FloatBounce" type="Node3D" node_paths=PackedStringArray("Area", "AnimationPlayer")]
script = ExtResource("1_k74hn")
Area = NodePath("Area3D")
AnimationPlayer = NodePath("AnimationPlayer")
PsWaterRipple = ExtResource("2_jxjvk")

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.265105, 0)
shape = SubResource("CylinderShape3D_o81hj")

[node name="Anim" type="Node3D" parent="."]

[node name="SfxWater" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_sytv3")
volume_db = -20.0
bus = &"SFX"
attenuation_filter_db = 0.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../Anim")
libraries = {
&"": SubResource("AnimationLibrary_h611w")
}
playback_default_blend_time = 0.2
