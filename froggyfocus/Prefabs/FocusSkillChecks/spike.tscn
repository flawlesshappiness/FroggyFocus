[gd_scene load_steps=22 format=3 uid="uid://duhs0m2x7kjpk"]

[ext_resource type="Script" uid="uid://c6jnwwxdu5va0" path="res://FocusSkillCheck/FocusSkillCheck_Spike.cs" id="1_6v3f5"]
[ext_resource type="Texture2D" uid="uid://djodu0snc2qh6" path="res://Assets/KenneyNL/Particles/circle_02.png" id="2_o6pkf"]
[ext_resource type="PackedScene" uid="uid://ddjclib0fbyw1" path="res://Assets/FlawLizArt/Nature/Stick/stick.fbx" id="3_o6pkf"]
[ext_resource type="AudioStream" uid="uid://cjujq6hhnkdkf" path="res://Sounds/Raw/sfx_step_water_high_001.wav" id="4_43vei"]
[ext_resource type="PackedScene" uid="uid://cj0wol0qe4nq5" path="res://Assets/FlawLizArt/Nature/Toon/branch_002.fbx" id="4_sslt7"]
[ext_resource type="AudioStream" uid="uid://bhlhbpuh6jvtl" path="res://Sounds/Raw/sfx_step_water_high_002.wav" id="5_26nau"]
[ext_resource type="AudioStream" uid="uid://dr6lnaq404371" path="res://Sounds/Raw/sfx_step_water_high_003.wav" id="6_sslt7"]
[ext_resource type="AudioStream" uid="uid://b2u08d1tpaako" path="res://Sounds/Raw/sfx_creak_001.wav" id="7_26nau"]

[sub_resource type="Curve" id="Curve_6v3f5"]
_data = [Vector2(0, 0), 0.0, 7.95301, 0, 0, Vector2(0.2, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -0.195775, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_o6pkf"]
curve = SubResource("Curve_6v3f5")

[sub_resource type="Curve" id="Curve_o6pkf"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_wlrwp"]
curve = SubResource("Curve_o6pkf")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6v3f5"]
gravity = Vector3(0, 0, 0)
scale_min = 2.0
scale_max = 2.0
scale_curve = SubResource("CurveTexture_wlrwp")
color = Color(1, 1, 1, 0.313726)
alpha_curve = SubResource("CurveTexture_o6pkf")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wlrwp"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("2_o6pkf")

[sub_resource type="QuadMesh" id="QuadMesh_o8ft5"]
material = SubResource("StandardMaterial3D_wlrwp")
orientation = 1

[sub_resource type="Animation" id="Animation_o8ft5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Anim:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.01, 0.01, 0.01)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Anim:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Anim:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SfxOutOfWater:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_o6pkf"]
resource_name = "hide"
length = 0.5
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Anim:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(1, 1, 1), Vector3(1, 1, 1), Vector3(0.01, 0.01, 0.01)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Anim:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5),
"transitions": PackedFloat32Array(1, 0.25, 0.25),
"update": 0,
"values": [Vector3(0, 2, 0), Vector3(0, 0, 0), Vector3(0, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Anim:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.00472234, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_wlrwp"]
resource_name = "show"
length = 0.5
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Anim:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.01, 0.01, 0.01), Vector3(1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Anim:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.5),
"transitions": PackedFloat32Array(0.25, 0.25, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, 0), Vector3(0, 2, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Anim:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.00787056),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("SfxOutOfWater:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.0106472),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_43vei"]
_data = {
&"RESET": SubResource("Animation_o8ft5"),
&"hide": SubResource("Animation_o6pkf"),
&"show": SubResource("Animation_wlrwp")
}

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_hgmi1"]
random_pitch = 1.1
streams_count = 3
stream_0/stream = ExtResource("4_43vei")
stream_1/stream = ExtResource("5_26nau")
stream_2/stream = ExtResource("6_sslt7")

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_sslt7"]
random_pitch = 1.1
streams_count = 1
stream_0/stream = ExtResource("7_26nau")

[node name="Spike" type="Node3D" node_paths=PackedStringArray("AnimationPlayer", "PsRipples", "SfxCreaks")]
script = ExtResource("1_6v3f5")
DelayRange = Vector2(2, 1)
AnimationPlayer = NodePath("AnimationPlayer")
PsRipples = NodePath("PsRipples")
SfxCreaks = NodePath("SfxCreak")
Type = 5

[node name="PsRipples" type="GPUParticles3D" parent="."]
emitting = false
amount = 3
one_shot = true
explosiveness = 0.5
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_6v3f5")
draw_pass_1 = SubResource("QuadMesh_o8ft5")

[node name="Anim" type="Node3D" parent="."]
transform = Transform3D(0.01, 0, 0, 0, 0.01, 0, 0, 0, 0.01, 0, 0, 0)
visible = false

[node name="stick" parent="Anim" instance=ExtResource("3_o6pkf")]
transform = Transform3D(4.96156, -0.618787, 0, 0.618787, 4.96156, 0, 0, 0, 5, -0.0489598, -1.68549, 0)

[node name="branch_002" parent="Anim" instance=ExtResource("4_sslt7")]
transform = Transform3D(-0.0881625, 0, -0.0471951, 0, 0.1, 0, 0.0471951, 0, -0.0881625, 0, -0.842643, 0)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_43vei")
}

[node name="SfxOutOfWater" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_hgmi1")
volume_db = -10.0
bus = &"SFX"

[node name="SfxCreak" type="AudioStreamPlayer3D" parent="."]
stream = SubResource("AudioStreamRandomizer_sslt7")
bus = &"SFX"
